/*! roots-ualib - Plugins - 2015-01-29 12:00
 * Copyright (c) 2015; * Licensed ECLv2+ */
(function(){for(var t,e=function e(){},n=["assert","clear","count","debug","dir","dirxml","error","exception","group","groupCollapsed","groupEnd","info","log","markTimeline","profile","profileEnd","table","time","timeEnd","timeStamp","trace","warn"],a=n.length,i=window.console=window.console||{};a--;)t=n[a],i[t]||(i[t]=e)})(),angular.module("ui.components.templates",["page/templates/page-section.tpl.html","page/templates/page.tpl.html","stepcard/templates/step-card.tpl.html","stepcard/templates/step.tpl.html"]),angular.module("page/templates/page-section.tpl.html",[]).run(["$templateCache",function(t){t.put("page/templates/page-section.tpl.html",'<div id="{{section}}" ng-transclude>\n</div>')}]),angular.module("page/templates/page.tpl.html",[]).run(["$templateCache",function(t){t.put("page/templates/page.tpl.html",'<div class="row">\n    <div class="col-md-9" ng-transclude></div>\n    <div class="col-md-3 page-section-menu">\n        <div>\n            <ul class="nav nav-pills nav-stacked">\n                <li ng-repeat="section in menu">\n                    <a ng-href="#{{section.link}}">{{section.title}}</a>\n                </li>\n            </ul>\n        </div>\n    </div>\n</div>')}]),angular.module("stepcard/templates/step-card.tpl.html",[]).run(["$templateCache",function(t){t.put("stepcard/templates/step-card.tpl.html",'<div class="row slice slice-blue" ng-model="cardData">\n    <h2 ng-bind-html="cardData.title"></h2>\n    <div ng-class="cardData.class" ng-repeat="items in cardData.items">\n        <div class="media step-card">\n            <div class="step-num media-object pull-left">{{$index + 1}}</div>\n            <div class="media-body step-text">\n                <ul class="list-unstyled">\n                    <li ng-repeat="item in items"><span ng-bind-html="item"></span></li>\n                </ul>\n            </div>\n        </div>\n    </div>\n</div>\n<span ng-transclude></span>')}]),angular.module("stepcard/templates/step.tpl.html",[]).run(["$templateCache",function(t){t.put("stepcard/templates/step.tpl.html","<span ng-transclude></span>")}]),angular.module("ualib.ui",["ui.bootstrap.dropdown","ui.components.templates","megamenu","page"]),angular.module("ui.bootstrap.dropdown",[]).constant("dropdownConfig",{openClass:"open"}).service("dropdownService",["$document",function(t){var e=null;this.open=function(i){e||(t.bind("click",n),t.bind("keydown",a)),e&&e!==i&&(e.isOpen=!1),e=i},this.close=function(i){e===i&&(e=null,t.unbind("click",n),t.unbind("keydown",a))};var n=function(t){if(e){var n=e.getToggleElement();t&&n&&n[0].contains(t.target)||e.$apply(function(){e.isOpen=!1})}},a=function(t){27===t.which&&(e.focusToggleElement(),n())}}]).controller("DropdownController",["$scope","$attrs","$parse","dropdownConfig","dropdownService","$animate",function(t,e,n,a,i,l){var s,o=this,r=t.$new(),c=a.openClass,p=angular.noop,d=e.onToggle?n(e.onToggle):angular.noop;this.init=function(a){o.$element=a,e.isOpen&&(s=n(e.isOpen),p=s.assign,t.$watch(s,function(t){r.isOpen=!!t}))},this.toggle=function(t){return r.isOpen=arguments.length?!!t:!r.isOpen},this.isOpen=function(){return r.isOpen},r.getToggleElement=function(){return o.toggleElement},r.focusToggleElement=function(){o.toggleElement&&o.toggleElement[0].focus()},r.$watch("isOpen",function(e,n){l[e?"addClass":"removeClass"](o.$element,c),e?(r.focusToggleElement(),i.open(r)):i.close(r),p(t,e),angular.isDefined(e)&&e!==n&&d(t,{open:!!e})}),t.$on("$locationChangeSuccess",function(){r.isOpen=!1}),t.$on("$destroy",function(){r.$destroy()})}]).directive("dropdown",function(){return{restrict:"AC",controller:"DropdownController",link:function(t,e,n,a){a.init(e)}}}).directive("dropdownToggle",function(){return{restrict:"AC",require:"?^dropdown",link:function(t,e,n,a){if(a){a.toggleElement=e;var i=function(i){i.preventDefault(),e.hasClass("disabled")||n.disabled||t.$apply(function(){a.toggle()})};e.bind("click",i),e.attr({"aria-haspopup":!0,"aria-expanded":!1}),t.$watch(a.isOpen,function(t){e.attr("aria-expanded",!!t)}),t.$on("$destroy",function(){e.unbind("click",i)})}}}}),angular.module("page",[]).directive("page",[function(){return{restrict:"EAC",transclude:!0,templateUrl:"page/templates/page.tpl.html",controller:function(t){var e=t.menu=[];this.addSection=function(t){e.push(t),console.log(t)}}}}]).directive("pageSection",[function(){return{require:"^page",restrict:"AEC",transclude:!0,scope:{title:"@"},templateUrl:"page/templates/page-section.tpl.html",link:function(t,e,n,a){var i=angular.isDefined(t.title)?t.title:e.find("h2").text();t.section=i.replace(/[\s\-\\/"'&]+/g,"_"),a.addSection({title:i,link:t.section})}}}]),angular.module("stepCard",[]).directive("stepCard",function(){return{restrict:"E",transclude:!0,scope:{},templateUrl:"stepcard/templates/stepCard.tpl.html",controller:function(t){t.cardData={},t.cardData.title="",t.cardData.items=[],this.counter=-1,this.addCard=function(e){if(0==t.cardData.title.length)t.cardData.title=e;else switch(void 0===t.cardData.items[this.counter]&&(t.cardData.items[this.counter]=[]),t.cardData.items[this.counter].push(e),t.cardData.items.length){case 1:t.cardData.class="col-sm-12";break;case 2:t.cardData.class="col-sm-6";break;default:t.cardData.class="col-sm-4"}console.dir(t.cardData)},this.incCounter=function(){this.counter++}}}}).directive("step",function(){return{require:"^stepCard",restrict:"E",transclude:!0,controller:function(){},link:function(t,e,n,a){a.incCounter(),e.detach()},templateUrl:"stepcard/templates/step.tpl.html"}}).directive("subStep",function(){return{require:["^stepCard","^step"],restrict:"E",link:function(t,e,n,a){a[0].addCard(e.html()),e.detach()}}});
//@ sourceMappingURL=plugins.js.map